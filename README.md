# Wall App

## 介绍

Wall App 是一个壁纸应用项目，旨在展示来自某未知壁纸网站的精选壁纸。项目分为后端服务和前端展示两部分，后端采用 Python Flask 框架开发，前端则使用 Flutter 框架进行安卓开发，未来也将支持 Windows、iOS、Mac 和 Linux 平台。

## 视频演示

为了更直观地展示应用的功能和用户界面，我准备了一个视频演示：[点击查看演示视频](https://www.bilibili.com/video/BV1JC41157s5/)。

## 后端接口

后端服务实现了以下接口，支持应用的核心功能：

- 下载图片：`POST /download_images`
- 获取图片：`GET /images/<filename>`
- 根据标签搜索图片：`GET /search_by_tag`
- 获取图片详细信息（慢速）：`GET /get_detail_slow`
- 获取图片详细信息：`GET /get_details`
- 获取特定 ID 的图片详细信息：`GET /images_detail/<id>`
- 获取所有图片 ID：`GET /get_ids`

## 安卓开发

安卓客户端使用 Flutter 框架开发，实现了以下功能：

- 图片缓存机制
- 排行榜内容一览
- 根据标签搜索图片
- 图片收藏功能
- 图片详情查看
- 主题切换（开发中）

## 技术细节

- **后端**: 通过爬虫脚本异步下载并存储排行榜上所有图片的相关信息，使用 SQLite 数据库持久化用户收藏列表信息。
- **前端**: 利用 Flutter 框架，首次启动时调用后端脚本 API，加载可能稍慢。但是后续加载速度会显著加快，取决于后端 Web API 与设备的连接速度。

## 算法与数据结构优化

为了提升 Wall App 的性能和用户体验，我们重点优化了相关算法和数据结构，包括：

- **图片缓存机制**: 采用高效的缓存策略，减少网络请求，加快图片加载速度。
- **数据库查询优化**: 对 SQLite 数据库的查询进行优化，快速检索用户收藏和图片详情信息。
- **数据加载策略**: 实现懒加载和分页加载机制，减少初始加载时间，优化内存使用。

未来计划进一步研究和应用更多高级算法和数据结构，如 AI 标签生成和图片识别，为用户提供更智能化的服务。

## 未来计划

未来工作计划包括：

1. 集成 AI 功能，例如通过标签生成 AI 绘制的图片。
2. 实现通过输入标签直接合成 AI 图片的功能。
3. 在收藏夹中通过随机标签组合生成 AI 图片。
4. 支持移动平台（包括手表、车机）的客户端软件架构设计和功能开发，采用原生与 Flutter 混合开发方式。
5. 持续优化算法与数据结构的使用，提升项目的稳定性和运行效率。

## 未来的算法与数据结构优化工作

1. **图片缓存机制**
   - 实施**LRU（最近最少使用）缓存算法**，自动移除最久未使用的图片，保留最近频繁访问的图片在缓存中。
   - 考虑使用**布隆过滤器**来快速检查一个图片是否已经被缓存，减少对缓存存储的查询时间。
2. **数据库查询优化**
   - 应用**B+树索引**结构优化SQLite数据库查询，加快数据检索速度，尤其是在处理大量数据时。
   - 探索**图数据库**（如Neo4j）来管理复杂的数据关系，比如用户与图片之间的多种关系（收藏、喜欢、分享等）。
3. **数据加载策略**
   - 实现**数据分片和懒加载**机制，仅加载用户当前需要查看的图片数据，减轻服务器压力，提高响应速度。
   - 使用**图形处理单元（GPU）加速数据处理**，特别是在处理图像和视频内容时，以实现更快的加载和渲染速度。
4. **移动平台客户端软件架构**
   - 探索**微前端架构**，使应用能够以更灵活的方式加载和升级特定功能模块，提升应用的可维护性和扩展性。
   - 使用**服务工作线程（Service Workers）**来缓存资产和数据，实现离线功能，提高在弱网环境下的用户体验。
5. **持续优化算法与数据结构的使用**
   - 定期对现有算法进行**复杂度分析**，识别性能瓶颈，寻找更优解。
   - 探索使用**并行计算**和**异步处理**技术，尤其是在后端服务中处理大量请求时，以提高效率。
